<div class="connection-display">
  <div class="section">
    <h3>Scan QR Code</h3>
    @if (qrCodeUrl()) {
      <div class="qr-code">
        <img [src]="qrCodeUrl()" alt="Connection QR Code" />
      </div>
    } @else {
      <div class="qr-placeholder">
        <p>Generating QR code...</p>
      </div>
    }
  </div>

  <div class="section">
    <h3>Share URL</h3>
    <div class="copy-field">
      <input
        type="text"
        [value]="shareableUrl()"
        readonly
        class="input-field"
      />
      <button
        class="btn-copy"
        (click)="copyUrl()"
        [class.copied]="copiedField() === 'url'"
      >
        {{ copiedField() === 'url' ? 'Copied!' : 'Copy' }}
      </button>
    </div>
  </div>

  <div class="section">
    <h3>Manual Code</h3>
    <div class="copy-field">
      <textarea
        [value]="encodedData()"
        readonly
        class="textarea-field"
        rows="3"
      ></textarea>
      <button
        class="btn-copy"
        (click)="copyData()"
        [class.copied]="copiedField() === 'data'"
      >
        {{ copiedField() === 'data' ? 'Copied!' : 'Copy' }}
      </button>
    </div>
  </div>
</div>
